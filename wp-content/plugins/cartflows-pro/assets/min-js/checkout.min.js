!function(u){function r(){u(".woocommerce-checkout-review-order-table, .wcf-product-option-wrap").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})}function s(e){jQuery(".wc_payment_methods").length?e.hasOwnProperty("cart_total")&&(0<parseFloat(e.cart_total)?(e.hasOwnProperty("fragments")&&u.each(e.fragments,function(e,t){u(e).replaceWith(t)}),u(".woocommerce-checkout-review-order-table, .wcf-product-option-wrap").unblock()):u("body").trigger("update_checkout")):u("body").trigger("update_checkout")}var t={vars:{originalTitle:document.title,interval:null},On:function(e,t){var c=this;c.vars.interval=setInterval(function(){document.title=c.vars.originalTitle==document.title?e:c.vars.originalTitle},t||1e3)},Off:function(){clearInterval(this.vars.interval),document.title=this.vars.originalTitle}},c=function(){if("true"==i()){u(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-steps div.wcf-current").removeClass("wcf-current");var e=u(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-nav-btns a").attr("href");function t(e){e.length&&(event.preventDefault(),u("html, body").stop().animate({scrollTop:e.offset().top},100))}"#customer_details"==e?(u(e).show(),t(u(".wcf-embed-checkout-form-nav")),u(".wcf-embed-checkout-form-two-step .wcf-product-option-wrap").hide(),u(".wcf-embed-checkout-form-two-step .wcf-order-wrap").hide(),u(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-nav-btns").show(),u(".wcf-embed-checkout-form-two-step").find(".step-one").addClass("wcf-current"),u(".wcf-embed-checkout-form-two-step .woocommerce-form-coupon-toggle").hide()):".wcf-order-wrap"==e&&(u(e).show(),t(u(".wcf-embed-checkout-form-nav")),u(".wcf-embed-checkout-form-two-step .wcf-product-option-wrap").show(),u(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-nav-btns").hide(),u(".wcf-embed-checkout-form-two-step").find(".step-two").addClass("wcf-current"),u(".wcf-embed-checkout-form-two-step .woocommerce-form-coupon-toggle").show(),u(".wcf-embed-checkout-form-two-step #customer_details").hide())}},o=function(){u(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-steps a").on("click",function(e){if(e.preventDefault(),"true"==i()){var t=u(this),c=t.closest(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-steps div");u(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-steps div.wcf-current").removeClass("wcf-current"),c.addClass("wcf-current");var o=t.closest(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-steps div a").attr("href");"#customer_details"==o?(u(o).show(),u(".wcf-embed-checkout-form-two-step .wcf-order-wrap").hide(),u(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-nav-btns").show(),u(".wcf-embed-checkout-form-two-step .wcf-product-option-wrap").hide(),u(".wcf-embed-checkout-form-two-step .woocommerce-form-coupon-toggle").hide()):".wcf-order-wrap"==o&&(u(o).show(),u(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-nav-btns").hide(),u(".wcf-embed-checkout-form-two-step .wcf-product-option-wrap").show(),u(".wcf-embed-checkout-form-two-step .woocommerce-form-coupon-toggle").show(),u(".wcf-embed-checkout-form-two-step #customer_details").hide())}})},a=function(){var e=u(".wcf-item-choose-options a"),l=u(".wcf-quick-view-wrapper");l.appendTo(document.body);var a=l.find(".wcf-quick-view-bg"),i=l.find("#wcf-quick-view-modal"),r=i.find("#wcf-quick-view-content"),c=i.find("#wcf-quick-view-close"),o=i.find(".wcf-content-main-wrapper");o.width(),o.height();e.off("click").on("click",function(e){e.preventDefault();var t=u(this),c=t.closest(".wcf-item");c.find(".wcf-item-selector input").is(":checked")||c.find(".wcf-item-selector input").trigger("click");var o=t.data("product");t.addClass("wcf-variation-popup-open"),i.hasClass("loading")||i.addClass("loading"),a.hasClass("wcf-quick-view-bg-ready")||a.addClass("wcf-quick-view-bg-ready"),u(document).trigger("wcf_quick_view_loading"),s(t,o)});var s=function(e,t){i.css("opacity",0),u.ajax({url:cartflows.ajax_url,data:{action:"wcf_woo_quick_view",product_id:t},dataType:"html",type:"POST",success:function(e){r.html(e),n()}})},n=function(){var e=r.find(".variations_form");if(e.trigger("check_variations"),e.trigger("reset_image"),!i.hasClass("open")){i.removeClass("loading").addClass("open");var t=d(),c=u("html");c.css("margin-right",t),c.addClass("wcf-quick-view-is-open")}0<e.length&&"function"==typeof e.wc_variation_form&&(e.wc_variation_form(),e.find("select").change());var o=i.find(".wcf-qv-image-slider");1<o.find("li").length?o.flexslider({animation:"slide",start:function(e){setTimeout(function(){f(!0)},300)}}):setTimeout(function(){f(!0)},300),u(document).trigger("wcf_quick_view_loader_stop")},f=function(e){var t=r,c=t.find(".product .wcf-qv-image-slider").first().height(),o=t.find(".product .summary.entry-summary"),a=o.css("content");void 0!==a&&544==a.replace(/[^0-9]/g,"")&&0!=c&&null!==c?o.css("height",c):o.css("height",""),!0===e&&i.css("opacity",1)},d=function(){var e=u('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');u("body").append(e);var t=u("div",e).innerWidth();e.css("overflow-y","scroll");var c=u("div",e).innerWidth();return u(e).remove(),t-c};!function(){o.on("click",function(e){this===e.target&&t()}),u(document).keyup(function(e){27===e.keyCode&&t()}),c.on("click",function(e){e.preventDefault(),t()});var t=function(){a.removeClass("wcf-quick-view-bg-ready"),i.removeClass("open").removeClass("loading"),u("html").removeClass("wcf-quick-view-is-open"),u("html").css("margin-right",""),e.removeClass("wcf-variation-popup-open"),setTimeout(function(){r.html("")},600)}}(),window.addEventListener("resize",function(e){f()});function t(){l.off("click","#wcf-quick-view-content .single_add_to_cart_button").off("wcf_added_to_cart").on("click","#wcf-quick-view-content .single_add_to_cart_button",this.onAddToCart).on("wcf_added_to_cart",this.updateButton)}t.prototype.onAddToCart=function(e){e.preventDefault();var t=u(this).closest("form");if(!t[0].checkValidity())return t[0].reportValidity(),!1;var n=u(this),c=u('input[name="product_id"]').val()||"",o=u('input[name="variation_id"]').val()||"",f=u(".wcf-variation-popup-open"),a=f.closest(".wcf-qty-row").find(".wcf-qty-selection").val()||1;n.is(".single_add_to_cart_button")&&(n.removeClass("added"),n.addClass("loading"),""!=o&&jQuery.ajax({url:cartflows.ajax_url,type:"POST",data:"action=wcf_add_cart_single_product&product_id="+c+"&variation_id="+o+"&quantity="+a,success:function(e){if(result=e.data,result&&"yes"===result.added_to_cart){(f=u(".wcf-variation-popup-open")).closest(".wcf-item").find(".wcf-item-wrap").text(result.name),f.data("variation",result.variation_id);var t=f.closest(".wcf-qty-row"),c=t.find(".wcf-qty-selection"),o=c.data("options"),a=t.find(".wcf-price");o.variation_id=result.variation_id,c.data("options",o);var i=t.find(".wcf-item-selector");if(0<i.length){var r=i.find("input"),s=r.data("options");s.variation_id=result.variation_id,r.data("options",s)}"no"!=result.price&&a.find(".wcf-field-label").html(result.price)}u(document.body).trigger("wc_fragment_refresh"),l.trigger("wcf_added_to_cart",[n])}}))},t.prototype.updateButton=function(e,t){u("body").trigger("update_checkout"),c.trigger("click")},new t},i=function(){var e,t,c,o;e=u(".wcf-embed-checkout-form-two-step form.woocommerce-checkout .woocommerce-billing-fields").find('input[type="text"], input[type="tel"], input[type="email"], input[type="password"]'),t=u(".wcf-embed-checkout-form-two-step form.woocommerce-checkout .woocommerce-billing-fields").find(".select2"),c=u(".wcf-embed-checkout-form-two-step form.woocommerce-checkout .woocommerce-shipping-fields").find('input[type="text"], input[type="tel"], input[type="email"], input[type="password"]'),o=u(".wcf-embed-checkout-form-two-step form.woocommerce-checkout .woocommerce-shipping-fields").find(".select2");var a=u(".wcf-embed-checkout-form-two-step form.woocommerce-checkout").find('h3#ship-to-different-address input[type="checkbox"]:checked').val(),i="true",r="";return Array.from(e).forEach(function(e){var t=e.type,c=(e.name,e.closest(".form-row"));has_class=c.classList.contains("validate-required"),field_value=u.trim(e.value),has_class&&""==field_value?(e.classList.add("field-required"),i="false",""==r&&(r=e)):("email"==t&&0==/^([a-zA-Z0-9_\+\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,14})$/.test(field_value)&&(e.classList.add("field-required"),i="false",""==r&&(r=e)),e.classList.remove("field-required"))}),Array.from(t).forEach(function(e){var t=e.closest(".form-row"),c=t.classList.contains("validate-required"),o=u.trim(t.querySelector(".select2-selection__rendered[title]"));name=t.querySelector("select").name,c&&""==o?(e.classList.add("field-required"),i="false",""==r&&(r=e)):e.classList.remove("field-required")}),1==a&&(Array.from(c).forEach(function(e){var t=e.type,c=(e.name,e.closest(".form-row"));has_class=c.classList.contains("validate-required"),field_value=u.trim(e.value),has_class&&""==field_value?(e.classList.add("field-required"),i="false",""==r&&(r=e)):("email"==t&&0==/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(field_value)&&(e.classList.add("field-required"),i="false",""==r&&(r=e)),e.classList.remove("field-required"))}),Array.from(o).forEach(function(e){var t=e.closest(".form-row"),c=t.classList.contains("validate-required"),o=u.trim(t.querySelector(".select2-selection__rendered[title]"));name=t.querySelector("select").name,whiteSpace=/\s/g.test(o),c&&""==o?(e.classList.add("field-required"),i="false",""==r&&(r=e)):e.classList.remove("field-required")})),""!=r&&r.focus(),i};u(document).ready(function(e){u(document).on("cartflows_remove_product",function(e,t){jQuery('.wcf-multiple-sel[value="'+t+'"]').attr("checked",!1),jQuery('.wcf-single-sel[value="'+t+'"]').attr("checked",!1)}),jQuery.each(cartflows_optimized_fields,function(c,e){e.is_optimized&&(jQuery("#"+c).prepend('<a href="#" id="wcf_optimized_'+c+'">'+e.field_label+"</a>"),jQuery("#wcf_optimized_"+c).click(function(e){e.preventDefault(),jQuery("#"+c).removeClass("wcf-hide-field");var t=c.replace(/_field/g,"");u("#"+t).focus(),jQuery(this).remove()}))}),cartflows_animate_tab_fields.enabled&&(u(window).blur(function(){t.On(cartflows_animate_tab_fields.title)}),u(window).focus(function(){t.Off()})),"yes"===cartflows.allow_autocomplete_zipcode&&function(){var i;u(document.body).on("textInput input change keypress paste","#billing_postcode, #shipping_postcode",function(e){var t=u(this),c=t.attr("id").split("_")[0],o=t.val().trim(),a=u("#"+c+"_country").val();""!==a&&""!==o&&(clearTimeout(i),i=setTimeout(function(){-1===["GB","CA"].indexOf(a)&&r(c,a,o)},800))});var r=function(c,e,t){u.ajax({url:"https://api.zippopotam.us/"+e+"/"+t,cache:!0,dataType:"json",type:"GET",success:function(e,t){u.each(e.places,function(e,t){return u("#"+c+"_city").val(this["place name"]).trigger("change"),u('[name="'+c+'_state"]:visible').val(this["state abbreviation"]).trigger("change"),!1})},error:function(e,t){}})}}(),u(document).on("change",".wcf-single-sel",function(){var e=u(this),t=e.data("options"),c=e.closest(".wcf-qty-row").find(".wcf-qty input").val(),o=jQuery("._wcf_checkout_id").val();t.checkout_id=o,t.qty=c,t.checkout_id=o,r(),u.ajax({url:cartflows.ajax_url,data:{action:"wcf_single_selection",option:t,security:cartflows.wcf_single_selection_nonce},dataType:"json",type:"POST",success:function(e){s(e)},error:function(e){u(".woocommerce-checkout-review-order-table").unblock()}})}),u(document).on("change",".wcf-multiple-sel",function(){var e=u(".wcf-multiple-sel:checked"),t=u(this),c=t.data("options"),o=t.closest(".wcf-qty-row").find(".wcf-qty input").val();if(0==e.length)return t.attr("checked",!0),void t.attr("disabled",!0);1==e.length?e.attr("disabled",!0):e.removeAttr("disabled");var a=jQuery("._wcf_checkout_id").val();c.checkout_id=a,c.qty=o,c.checked="no",t.is(":checked")&&(c.checked="yes"),r(),u.ajax({url:cartflows.ajax_url,data:{action:"wcf_multiple_selection",option:c,security:cartflows.wcf_multiple_selection_nonce},dataType:"json",type:"POST",success:function(e){s(e)},error:function(e){u(".woocommerce-checkout-review-order-table").unblock()}})}),u(document).on("change",".wcf-var-sel",function(){var e=u(this).closest(".wcf-qty-row").find(".wcf-qty input"),t=e.data("options"),c=e.val(),o=jQuery("._wcf_checkout_id").val();t.checkout_id=o,t.qty=c,r(),u.ajax({url:cartflows.ajax_url,data:{action:"wcf_variation_selection",option:t,security:cartflows.wcf_variation_selection_nonce},dataType:"json",type:"POST",success:function(e){s(e)},error:function(e){u(".woocommerce-checkout-review-order-table").unblock()}})}),u(document).on("change",".wcf-qty-selection",function(){var e=u(this);if(wrap=e.closest(".wcf-qty-row"),item_selector=wrap.find(".wcf-item-selector"),0<item_selector.length){var t=item_selector.find("input");if(0<t.length&&!t.is(":checked"))return}var c=e.data("options"),o=e.val();c.qty=o;var a=jQuery("._wcf_checkout_id").val();c.checkout_id=a,r(),u.ajax({url:cartflows.ajax_url,data:{action:"wcf_quantity_update",option:c,security:cartflows.wcf_quantity_update_nonce},dataType:"json",type:"POST",success:function(e){s(e)},error:function(e){u(".woocommerce-checkout-review-order-table").unblock()}})}),a(),function(){var i=!1;u(document).on("change",".wcf-bump-order-cb",function(e){if(!0===i)return!1;i=!0;var t=u(this),c=t.val(),o=u("[name=_wcf_checkout_id]").val(),a={security:cartflows.wcf_bump_order_process_nonce,_wcf_checkout_id:o,_wcf_product_id:c,action:"wcf_bump_order_process"};return t.is(":checked")?(u("[name=_wcf_bump_product]").val(c),u("[name=_wcf_bump_product_action]").val("add_bump_product"),a._wcf_bump_product_action="add_bump_product"):(u("[name=_wcf_bump_product]").val(""),u("[name=_wcf_bump_product_action]").val("remove_bump_product"),a._wcf_bump_product_action="remove_bump_product"),r(),u.ajax({url:cartflows.ajax_url,data:a,dataType:"json",type:"POST",success:function(e){s(e)},error:function(e){u(".woocommerce-checkout-review-order-table").unblock()}}),i=!1}),u(document.body).on("updated_checkout",function(e,t){u("[name=_wcf_bump_product_action]").val("")})}(),function(){var e=u(".wcf-field-style-one form.woocommerce-checkout").find("input");u(e).each(function(e){var t=u(this),c=t.attr("type"),o=t.closest(".form-row");a(o.hasClass("mt20"),t.val(),c,o)});var t=u(".wcf-field-style-one form.woocommerce-checkout").find("select");function a(e,t,c,o){e&&o.removeClass("mt20"),(""!==t||" "!==t&&"select"===c)&&o.addClass("wcf-anim-label"),"hidden"===c&&(o.removeClass("wcf-anim-label"),o.addClass("wcf-anim-label-fix"))}u(t).each(function(e){var t=u(this),c=t.closest(".form-row");a(c.hasClass("mt20"),t.val(),"select",c)})}(),function(){var e=u(".wcf-field-style-one form.woocommerce-checkout").find("input"),t=u(".wcf-field-style-one form.woocommerce-checkout").find(".select2"),c=u(".wcf-field-style-one form.woocommerce-checkout").find("textarea");e.focus(function(){var e=u(this),t=e.closest(".form-row");has_class=t.hasClass("wcf-anim-label"),field_value=e.val(),""==field_value&&t.addClass("wcf-anim-label")}),e.focusout(function(){var e=u(this),t=e.closest(".form-row");has_class=t.hasClass("wcf-anim-label"),field_value=e.val(),""==field_value?t.removeClass("wcf-anim-label"):t.addClass("wcf-anim-label")}),t.click(function(){var e=u(this),t=e.closest(".form-row");has_class=t.hasClass("wcf-anim-label"),field_value=e.find(".select2-selection__rendered").text(),""==field_value&&t.addClass("wcf-anim-label")}),t.focusout(function(){var e=u(this),t=e.closest(".form-row");has_class=t.hasClass("wcf-anim-label"),field_value=e.find(".select2-selection__rendered").text(),""==field_value?t.removeClass("wcf-anim-label"):t.addClass("wcf-anim-label")}),c.click(function(){var e=u(this),t=e.closest(".form-row");has_class=t.hasClass("wcf-anim-label"),field_value=e.val(),""==field_value&&t.addClass("wcf-anim-label")}),c.focusout(function(){var e=u(this),t=e.closest(".form-row");has_class=t.hasClass("wcf-anim-label"),field_value=e.val(),""==field_value?t.removeClass("wcf-anim-label"):t.addClass("wcf-anim-label")})}(),0<e(".wcf-embed-checkout-form-two-step").length&&(o(),u(".wcf-embed-checkout-form-two-step  #customer_details").show(),u(".wcf-embed-checkout-form-two-step .woocommerce-form-coupon-toggle").hide(),u(".wcf-embed-checkout-form-two-step .wcf-product-option-wrap").hide(),u(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-nav-btns").show(),u(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-steps a").on("click",function(e){e.preventDefault(),o()}),u(".wcf-embed-checkout-form-two-step .wcf-embed-checkout-form-nav-btns a").on("click",function(e){e.preventDefault(),c()}))})}(jQuery);